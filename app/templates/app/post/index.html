<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>投稿ページ</title>
    <!-- <link rel="stylesheet" href="css/reset.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/destyle.css@3.0.2/destyle.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        




        body {
            overflow: hidden
        }
        form {
            padding-top: 130px;
            background-color: #F5F5F5;
        }
        .label-with-image {
            display: flex;
            flex-direction: column;
        }
        .main {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }
        .labe{
            display: flex;
            justify-content: center;
        }
        .div{
            display: flex;
            align-items: center;
            flex-direction: column;
            width: 100%;
        }
        input.mei{
            border: 5px solid #006989; 
            padding: 10px; 
            width:100%;
            border-radius: 30px;     
        }
        textarea.komento{
            border: 5px solid #006989; 
            width:100%;
            border-radius: 20px;
            height: 200px;   
            padding: 5px;
        }
        select{
            border: 5px solid #006989; 
            padding: 20px; 
            width:100%;
            border-radius: 20px; 
        }
        .div_item {
            width: 80%;
            padding-bottom: 20px;
        }
        .div_img {
            width: 600px;
            height: 600px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 5px solid #006989;  
        }
        img.goods{
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .main label{
            font-size: 20px;
        }
        button.btn{
            background:#ffca3a;
            font-size: 20px;
            justify-content: flex-end;
            padding: 9px 35px;
            border-radius: 20px;
            margin: 20px 0 120px;
            margin-left: 440px;
        }





        :root{
            --whiteColor: #F5F5F5;
            --blueColor: #016989;
            --grayColor: #D9DADE;
            --yellowColor: #FFCA39;
            --redColor: #DB504A;
            --dropShadow10px: drop-shadow(0px 0px 10px #00000023);
            --dropShadow15px: drop-shadow(0px 0px 15px #00000023);
            --dropShadow10pxYellow: drop-shadow(0px 0px 15px #ffca3961);
        }
        header{
            position: fixed;
            height: 120px;
            width: 100vw;
            padding: 35px 5%;
            display: flex;
            align-items: center;
            z-index: 999;
            background-color: #F5F5F5;
        }
        
        .headerItem{
            margin: 0 7.5px;
        }
        
        header .logo{
            width: 18%;
            height: auto;
            -webkit-user-drag: none;
        }
        
        header .tabContainer{
            width: 100%;
            height: 100%;
            display: flex;
        }
        
        header .tab{
            background: var(--grayColor);
            backdrop-filter: blur(20px);
            height: 100%;
            padding: 5px 2.5px;
            border-radius: 9999px;
            display: flex;
        }
        
        .tab a{
            width: 100%;
            height: 100%;
            margin: 0 2.5px;
        }
        
        .tab button{
            font-weight: 600;
            font-size: 14px;
            background: var(--whiteColor);
            width: 100%;
            height: 100%;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #kinds button.active{
            background: var(--yellowColor);
            filter: var(--dropShadow10pxYellow);
        }
        
        #gender button svg{
            width: 25px;
            height: auto;
        }
        
        #gender #female .path{
            fill: var(--redColor);
        }
        
        #gender #male .path{
            fill: var(--blueColor);
        }
        
        #gender #female.active{
            background: var(--redColor);
        }
        
        #gender #female.active .path{
            fill: var(--whiteColor);
        }
        
        #gender #female.active{
            background: var(--redColor);
        }
        
        #gender #male.active{
            background: var(--blueColor);
        }
        
        #gender #male.active .path{
            fill: var(--whiteColor);
        }
        
        #kinds{
            flex-grow: 9;
        }
        
        #gender{
            flex-grow: 2.5;
        }
        
        .loginButton{
            background: var(--grayColor);
            height: 100%;
            width: auto;
            aspect-ratio: 1/1;
            padding: 5px;
            border-radius: 9999px;
        }
        
        .loginButton .icon{
            background: var(--whiteColor);
            width: 100%;
            height: 100%;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .svg{
            position: absolute;
            width: 0;
            height: 0;
        }
        .content p{
            font-size: 14px;
            opacity: 0.5;
        }
        
        .reviewButton{
            background: var(--yellowColor);
            position: fixed;
            /* width: 200px;
            height: 50px; */
            bottom: 40px;
            right: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 999px;
            padding: 10px 20px;
            filter: var(--dropShadow10px);
        }
        
        .reviewButton > *{
            margin: 5px;
        }
    </style>
</head>
<body>
    {% load static %}
    <header>
        <img src="{% static 'app/motekatuLogo.png' %}" alt="motekatu" class="logo headerItem">
        <div class="tabContainer">
            <article class="tab headerItem" id="kinds">
                <a href="{% url 'app:review_list' 1 gender %}"><button>ヘアセット</button></a>
                <a href="{% url 'app:review_list' 2 gender %}"><button>コスメ</button></a>
                <a href="{% url 'app:review_list' 3 gender %}"><button>香水</button></a>
                <a href="{% url 'app:review_list' 4 gender %}"><button>アクセサリー</button></a>
                <a href="{% url 'app:review_list' 5 gender %}"><button>スキンケア</button></a>
                <a href="{% url 'app:review_list' 6 gender %}"><button>服装</button></a>
            </article>
            <article class="tab headerItem" id="gender">
                <a>
                    <button id="female" class="{{active_gender_2}}">
                        <svg width="36" height="43" viewBox="0 0 36 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle class="path" cx="18.1339" cy="11.3182" r="7.63636" fill="#DB504A"/>
                            <path class="path" d="M18.1337 18.9546L28.0537 36.1364H8.21382L18.1337 18.9546Z" fill="#DB504A"/>
                        </svg>
                    </button>
                </a>
                <a>
                    <button id="male" class="{{active_gender_1}}">
                        <svg width="36" height="43" viewBox="0 0 36 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle class="path" cx="18.1337" cy="12.591" r="7.63636" fill="#FEFEFE"/>
                            <path class="path" d="M18.1337 37.4092L8.21379 20.2274L28.0536 20.2274L18.1337 37.4092Z" fill="#FEFEFE"/>
                        </svg>                            
                    </button>
                </a>
            </article>
        </div>
        <a href="{% url 'app:sign_out' %}" class="loginButton headerItem">
            <div class="icon">
                <img src="{% static 'app/Log_out_1.png' %}">
            </div>
        </a>
    </header>

    <form action="{% url 'app:post.save' %}" method='post' enctype="multipart/form-data">
        {% csrf_token %}
        <div class="main">

        <div class="labe">
            <div>
                <label for="file-upload" class="label-with-image">
                    写真
                    <div class="div_img">
                        <img src="{% static 'app/Ultimate_Light_Icons_Set.png' %}" class='goods' id="preview-image">
                    </div>    
                </label>
                <input type="file" id="file-upload" style="display: none;" name='image'>
            </div>
        </div>    

        <div class="div">
            <div class="div_item">
                <label style="text-align: left;" for="syouhinmei">商品名</label>
                <input class="mei" type="text" id="syouhinmei" name="name" maxlength="36"　required>
            </div>

            <div class="div_item">
                <label style="text-align: left;" for="rebyu-">レビュー点数</label>
                <select id="reby" name="star" required>
                    <option value="" disabled selected>選択してください</option>
                    <option value="0">0点</option>
                    <option value="1">1点</option>
                    <option value="2">2点</option>
                    <option value="3">3点</option>
                    <option value="4">4点</option>
                    <option value="5">5点</option>
                </select>
            </div>    
            <div class="div_item">
                <label style="text-align: left;" for="syouhinnosyurui">商品の種類</label>
                <select id="fruits" name="type" required>
                    <option value="" disabled selected>選択してください</option>
                    <option value="1">ヘアセット</option>
                    <option value="2">コスメ</option>
                    <option value="3">香水</option>
                    <option value="4">アクセサリー</option>
                    <option value="5">スキンケア</option>
                    <option value="6">服装</option>
                </select>
            </div>
            <div class="div_item">
                <label for="komento">コメント</label>
                <textarea class="komento" id="komento" name="comment" maxlength="126" required></textarea>
            </div>

                <button type="submit" class="btn">投稿</button>
            </div>
        </div>
    </form>

    <script
        src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function() {
            $('#file-upload').on('change', function(event) {
                var input = event.target;

                if (input.files && input.files[0]) {
                    var reader = new FileReader();
        
                    reader.onload = function(e) {
                        $('#preview-image').attr('src', e.target.result);
                    }
        
                    reader.readAsDataURL(input.files[0]);
                }
            });
        });        
        $(document).ready(function() {
            $('form').on('submit', function(event) {
                var fileInput = $('#file-upload')[0];
                var file = fileInput.files[0];
                
                if (file) {
                    var fileType = file.type;
                    if (!fileType.startsWith('image/')) {
                        event.preventDefault();
                        alert('アップロードされたファイルは画像ファイルではありません。画像ファイルを選択してください。');
                    }
                }
            });
        });
        $("img.logo").click(function(){
            window.location.href = "{% url 'app:top' %}"
        });
    </script>
</body>
</html>